<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Opus - Student Dashboard</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="css/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="css/plugins/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="css/plugins/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome-4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" src="/client/css/popup.css">

</head>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Opus | Carlos</a>
            </div>
            <!-- /.navbar-header -->

            <ul class="nav navbar-top-links navbar-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-envelope fa-fw"></i>  <i class="fa fa-caret-down"></i>
                    </a>
                     <ul class="dropdown-menu dropdown-messages">
                        <li>
                            <a href="#">
                                <div>
                                    <strong>Opus</strong>
                                    <span class="pull-right text-muted">
                                        <em>Just now</em>
                                    </span>
                                </div>
                                <div>Assignment 1 complete! Check scores to see your updated math performance...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <strong>Mrs. Fraser</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <div>Good job with arithmetic! I think you can do better with calculus...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <strong>Mrs. Fraser</strong>
                                    <span class="pull-right text-muted">
                                        <em>2 days ago</em>
                                    </span>
                                </div>
                                <div>Carlos, just saw your calculus scores. If you'd like more help, I'm...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong>Read All Messages</strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                    <!-- /.dropdown-messages -->
                </li>
                <!-- /.dropdown -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-fw"></i>  <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                        </li>
                        <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                    <!-- /.dropdown-user -->
                </li>
                <!-- /.dropdown -->
            </ul>
            <!-- /.navbar-top-links -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="sidebar-search">
                            <div class="input-group custom-search-form">
                                <input type="text" class="form-control" placeholder="Search...">
                                <span class="input-group-btn">
                                <button class="btn btn-default" type="button">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                            </div>
                            <!-- /input-group -->
                        </li>
                        <li>
                            <a class="active" href="index.html"><i class="fa fa-dashboard fa-fw"></i> Math</a>
                        </li>
                        <li>
                            <a href="tables.html"><i class="fa fa-table fa-fw"></i>English</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-table fa-fw"></i>Biology</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-table fa-fw"></i>Astronomy</a>
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
                <div class="row">
                    <div class="col-lg-12 page-header" position="relative">
                      <h2 style="float: left;">Math</h2>
                      <button id= "clickme"class="btn btn-outline btn-primary" style="float: right; position: relative; top: 20px; right: 0px">Begin Assignment</button>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
            <div id = "hideme">
                <!-- /.row -->
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <span class="fa fa-plus fa-6x" style='font-size: 70px'></span>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge algebraScore">0</div>
                                        <div>Algebra</div>
                                    </div>
                                </div>
                            </div>
                            <a href="#">
                                <div class="panel-footer">
                                    <span class="pull-left">Practice Questions</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="panel panel-green">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-cube fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge geometryScore">0</div>
                                        <div>Geometry</div>
                                    </div>
                                </div>
                            </div>
                            <a href="#">
                                <div class="panel-footer">
                                    <span class="pull-left">Practice Questions</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="panel panel-yellow">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <span class="glyphicon glyphicon-stats" style='font-size: 70px'></span>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge statisticsScore">0</div>
                                        <div>Statistics</div>
                                    </div>
                                </div>
                            </div>
                            <a href="#">
                                <div class="panel-footer">
                                    <span class="pull-left">Practice Questions</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="panel panel-red">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-area-chart fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge calculusScore">0</div>
                                        <div>Calculus</div>
                                    </div>
                                </div>
                            </div>
                            <a href="#">
                                <div class="panel-footer">
                                    <span class="pull-left">Practice Questions</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- /.row -->
                <div class="row">
                    <div class="col-lg-8">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <i class="fa fa-bar-chart-o fa-fw"></i> Student Progression
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div id="morris-area-chart"></div>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <i class="fa fa-bar-chart-o fa-fw"></i> Bar Chart Example
                                <div class="pull-right">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                            Actions
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Action</a>
                                            </li>
                                            <li><a href="#">Another action</a>
                                            </li>
                                            <li><a href="#">Something else here</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li><a href="#">Separated link</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-hover table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Assignment #</th>
                                                        <th>% of Questions Correct</th>
                                                        <th>Time to Completion</th>
                                                        <th>Overall Score</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>3326</td>
                                                        <td>10/21/2013</td>
                                                        <td>3:29 PM</td>
                                                        <td>$321.33</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3325</td>
                                                        <td>10/21/2013</td>
                                                        <td>3:20 PM</td>
                                                        <td>$234.34</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3324</td>
                                                        <td>10/21/2013</td>
                                                        <td>3:03 PM</td>
                                                        <td>$724.17</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3323</td>
                                                        <td>10/21/2013</td>
                                                        <td>3:00 PM</td>
                                                        <td>$23.71</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3322</td>
                                                        <td>10/21/2013</td>
                                                        <td>2:49 PM</td>
                                                        <td>$8345.23</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3321</td>
                                                        <td>10/21/2013</td>
                                                        <td>2:23 PM</td>
                                                        <td>$245.12</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3320</td>
                                                        <td>10/21/2013</td>
                                                        <td>2:15 PM</td>
                                                        <td>$5663.54</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3319</td>
                                                        <td>10/21/2013</td>
                                                        <td>2:13 PM</td>
                                                        <td>$943.45</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- /.table-responsive -->
                                    </div>
                                    <!-- /.col-lg-4 (nested) -->
                                </div>
                                <!-- /.row -->
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                    </div>
                    <!-- /.col-lg-8 -->
                </div>
            <!-- /.row -->
            </div>
            <!-- /#hideme -->
        <!-- /#page-wrapper -->

        <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-clock-o fa-fw"></i> Responsive Timeline
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <ul class="timeline">
                                <li>
                                    <div class="timeline-badge"><i class="fa fa-check"></i>
                                    </div>
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title">Hello, Carlos!</h4>
                                            <p><small class="text-muted"><i class="fa fa-clock-o"></i> 11 hours ago via Twitter</small>
                                            </p>
                                        </div>
                                        <div class="timeline-body">
                                            <p>Welcome, Carlos! Opus is a interractive platform that allows student to improve on areas in which they struggle. This application will auto generate new sets of questions specially catered to the studends! It also allow your professor to monitor your progress. </p>
                                        </div>
                                    </div>
                                </li>
                                <li class="timeline-inverted">
                                    <div class="timeline-badge warning"><i class="fa fa-credit-card"></i>
                                    </div>
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title"> Difficulties with Limits in Calculus!</h4>
                                        </div>
                                        <div class="timeline-body">
                                            <p>From the result of last Calculus assignment was not very good. Only 25% of Students passed on the first try. A new set of problem with automatically be generated. Please do the assignment again!</p>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="timeline-badge danger"><i class="fa fa-bomb"></i>
                                    </div>
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title">Congratulations, Geometry Assignment #1 done!</h4>
                                        </div>
                                        <div class="timeline-body">
                                            <p>Mrs. Lori: great job Carlos on your geometry Assignment1 score.
                                               I see that you have mastered all the triangle properties. However you still need to do more practice on finding volume of solids. Keep
                                               up the good work!
                                            </p>
                                        </div>
                                    </div>
                                </li>
                               <li class="timeline-inverted">
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title">Statistics Assignment #2 is posted!</h4>
                                        </div>
                                        <div class="timeline-body">
                                            <p>Mrs. Lori: Good Friday Carlos! The class average for Statistics Assignment #2 was 78% and you got 86%. Amazing Carlos! I have just posted the Assignment #3. Have a great weekend!</p>
                                        </div>
                                    </div>
                                </li>
               
                                <li>
                                    <div class="timeline-badge info"><i class="fa fa-save"></i>
                                    </div>
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title">Algebra Assignment #1 progession 75%</h4>
                                        </div>
                                        <div class="timeline-body">
                                            <p>If you cannot fully complete the assignment right now! Please save your work!</p>
                                            <hr>
                                            <div class="btn-group">
                                                <button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown">
                                                    <i class="fa fa-gear"></i>  <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu" role="menu">
                                                    <li><a href="#">Action</a>
                                                    </li>
                                                    <li><a href="#">Another action</a>
                                                    </li>
                                                    <li><a href="#">Something else here</a>
                                                    </li>
                                                    <li class="divider"></li>
                                                    <li><a href="#">Separated link</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="timeline-inverted">
                                    <div class="timeline-badge success"><i class="fa fa-graduation-cap"></i>
                                    </div>
                                    <div class="timeline-panel">
                                        <div class="timeline-heading">
                                            <h4 class="timeline-title">Congratulations, Carlos!</h4>
                                        </div>
                                        <div class="timeline-body">
                                            <p>You have successfully completed Opus Math section!</p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>  
    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="js/plugins/metisMenu/metisMenu.min.js"></script>

    <!-- Morris Charts JavaScript -->
    <script src="js/plugins/morris/raphael.min.js"></script>
    <script src="js/plugins/morris/morris.min.js"></script>
    <script src="js/plugins/morris/morris-data.js"></script>

    <!-- Custom Theme JavaScript -->
    <script>
        $( "#quiz" ).toggle( "slow" );           
        $( "#clickme" ).click(function() {
          //start assignment
          $( "#hideme" ).toggle( "slow" );
          $( ".panel" ).toggle( "slow" );
          $("#clickme").html('Quit Assignment');
          var algebraRight = 0, geometryRight = 0, statisticsRight = 0, calculusRight = 0, algebraCount = 0, geometryCount = 0, statisticsCount = 0, calculusCount = 0;

          $.ajax({
            url: "http://localhost:9000/api/questions",
            cache: false,
            success: function(data) {
                //loop through data, populate question
                for (var i = 0; i < data.length; i++){
                    //gate questions by category
                    if (data[i].category == "algebra" && algebraRight == 3){
                        //they mastered algebra, show next category
                        continue;
                    } else if (data[i].category == "geometry" && geometryRight == 3){
                        continue;
                    } else if (data[i].category == "statistics" && statisticsRight == 3){
                        continue;
                    } else if (data[i].category == "calculus" && calculusRight == 3){
                        //kid schooled each category; end quiz
                        //update scores on dashboard
                        $(".algebraScore").html(ceil(algebraRight/algebraCount);
                        $(".geometryScore").html(ceil(geometryRight/geometryCount);
                        $(".statisticsScore").html(ceil(statisticsRight/statisticsCount);
                        $(".calculusScore").html(ceil(calculusRight/calculusCount);
                        $( "#hideme" ).toggle( "slow" );
                        $( ".panel" ).toggle( "slow" );
                        $("#clickme").html('Begin Assignment');
                        break;
                    }


                    //show question
                    loadQuestion(data[i]);
                    //wait for them to submit
                    $( "#submit" ).click(function() {
                        //check answer, update category score
                        if ($("#InputMessage").html() == data[i].answer){
                            if (data[i].category == "algebra"){
                                algebraRight++;
                            }else if (data[i].category == "geometry"){
                                geometryRight++;
                            }else if (data[i].category == "statistics"){
                                statisticsRight++;
                            }else
                                calculusRight++;
                        }
                        //update question attempts
                        if (data[i].category == "algebra"){
                                algebraCount++;
                            }else if (data[i].category == "geometry"){
                                geometryCount++;
                            }else if (data[i].category == "statistics"){
                                statisticsCount++;
                            }else
                                calculusCount++;

                        //check if they got too many questions wrong
                        if(algebraCount + geometryCount + statisticsCount + calculusCount < 20){
                            
                            //update scores on dashboard
                            $(".algebraScore").html(ceil(algebraRight/algebraCount);
                            $(".geometryScore").html(ceil(geometryRight/geometryCount);
                            $(".statisticsScore").html(ceil(statisticsRight/statisticsCount);
                            $(".calculusScore").html(ceil(calculusRight/calculusCount);
                            $( "#hideme" ).toggle( "slow" );
                            $( ".panel" ).toggle( "slow" );
                            $("#clickme").html('Begin Assignment');
                            break;
                        }
                    }
                }
            }
          })
          //populate scores
        });
        //populate question
        function loadQuestion(question){
            $('#question').html($('#question').html() + question.text)
        }
    </script>

</body>

</html>


<span class="glyphicon glyphicon-stats"></span>
